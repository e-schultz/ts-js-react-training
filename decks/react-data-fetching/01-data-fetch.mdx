import { FullScreenCode, Split, SplitRight, Invert } from "mdx-deck/layouts";
import { Head, Appear, Image, withDeck } from 'mdx-deck'
import { CodeSurfer } from "mdx-deck-code-surfer"
import nightOwl from "prism-react-renderer/themes/nightOwl"

import ReplIt from "../../components/ReplIt";
import CodeSandbox from "../../components/CodeSandbox";
import ImageSplit from "../../components/ImageSplit";
import Box from "../../components/Box";
const BRANCH_NAME = 'master'; // tood: change before merge

# Data Fetching

* Common to use the `componentDidMount` lifecycle hook to request data
* The data fetching typically lives in a `container` component, that then passes the information down

---

## Basic Data Fetch Example

<Box width={'80vw'}>
    <CodeSandbox src={`https://codesandbox.io/embed/github/e-schultz/ts-js-react-training/tree/${BRANCH_NAME}/examples/fetch-game-list-example?autoresize=1&codemirror=1&fontsize=14&module=%2Fsrc%2FApp.js`}/>
</Box>

---

## Not all logic needs to live in the component

* Can extract functionality to other files 
* Import them where needed

---

## Data Fetch - External Service

<Box width={'80vw'}>
    <CodeSandbox src={`https://codesandbox.io/embed/github/e-schultz/ts-js-react-training/tree/${BRANCH_NAME}/examples/fetch-game-list-example-external?autoresize=1&codemirror=1&fontsize=14&module=%2Fsrc%2FApp.js`}/>
</Box>

---

## Data Fetch Exercise 

* Replace mock data with real data
* Get a list of games that include the platform name
* Once games are loading
* Add a loading state
* Display loading place holder
* Display games once ready 

```json
[{
    id: 1,
    game: 'Some Game',
    platformName: 'PS4'
}]
```
---

### Data Fetch Exercise - Game and Platform - Start

<Box width={'80vw'}>
    <CodeSandbox src={`https://codesandbox.io/embed/github/e-schultz/ts-js-react-training/tree/${BRANCH_NAME}/exercises/data-fetch-game-and-platform-start?autoresize=1&codemirror=1&fontsize=14&module=%2Fsrc%2FApp.js`}/>
</Box>

---

### Data Fetch Exercise - Game and Platform - Solution

<Box width={'80vw'}>
    <CodeSandbox src={`https://codesandbox.io/embed/github/e-schultz/ts-js-react-training/tree/${BRANCH_NAME}/exercises/data-fetch-game-and-platform-end?autoresize=1&codemirror=1&fontsize=14&module=%2Fsrc%2FApp.js`}/>
</Box>

