import { FullScreenCode, Split, SplitRight, Invert } from "mdx-deck/layouts";
import ReplIt from "../../components/ReplIt";
import CodeSandbox from "../../components/CodeSandbox";
import ImageSplit from "../../components/ImageSplit";
import Box from "../../components/Box";
import { Head, Appear, Image, withDeck } from 'mdx-deck'
import { CodeSurfer } from "mdx-deck-code-surfer"
import nightOwl from "prism-react-renderer/themes/nightOwl"
const BRANCH_NAME = 'master'; // tood: change before merge

export default Invert 

# React 
## State Change & Data Flow

---

## What is State?

* State is Data that changes over time

---

## recap: React State

* React Components can have their own internal state
* Components should not directly mutate their state
* Children can not modify parent state

---

## Unidirectional Data Flow

* Data is passed down with props
* Callbacks are passed down and invoked to notify of changes
* Or Events are emitted


```notes
+------------------------------------+
|                                    |
| App                                |
|            Props        Callback   |
|              |             ^       |
|              |             |       |
|              |             |       |
|              Ë‡             |       |
|            +-------------------+   |
|            | Person            |   |
|            |                   |   |
|            |                   |   |
|            +-------------------+   |
|                                    |
+------------------------------------+

```
---

<Box size={'80vw'}>
  <Image src="./images/data-event-flow.png" size="cover"/>
</Box>

---

### Example - Removing Item from List

<Box style={{width: "80vw"}}>
  <CodeSandbox src={`https://codesandbox.io/embed/github/e-schultz/ts-js-react-training/tree/${BRANCH_NAME}/examples/react-list-example-remove-item?autoresize=1&codemirror=1&fontsize=14&module=%2Fsrc%2FApp.js`}/>
</Box>

---

### Why should the Parent handle the change?

* The child notifies that we want to be done.
* The parent controls how it is done.
* The parent provided the data - so it controls how it is updated

---

### Example - Use confirm to control if the item is removed

<Box style={{width: "80vw"}}>
  <CodeSandbox src={`https://codesandbox.io/embed/github/e-schultz/ts-js-react-training/tree/${BRANCH_NAME}/examples/react-list-example-remove-item?autoresize=1&codemirror=1&fontsize=14&module=%2Fsrc%2FApp.js`}/>
</Box>

---

### Exercise: Add "Remove" functionality to the Robot List 

* Modify the Robot Card / List
* Add a Remove Button to the Robot Card
* Add a callback prop 
* Modify the parent to remove the Robot once the button is clicked

---

### Exercise: Robot List Remove - Start 

<Box style={{width: "80vw"}}>
  <CodeSandbox src={`https://codesandbox.io/embed/github/e-schultz/ts-js-react-training/tree/${BRANCH_NAME}/exercises//events-robot-list-remove-robot-start?autoresize=1&codemirror=1&fontsize=14&module=%2Fsrc%2FApp.js`}/>
</Box>

---

### Exercise: Robot List Remove - Solution 

<Box style={{width: "80vw"}}>
  <CodeSandbox src={`https://codesandbox.io/embed/github/e-schultz/ts-js-react-training/tree/${BRANCH_NAME}/exercises//events-robot-list-remove-robot-end?autoresize=1&codemirror=1&fontsize=14&module=%2Fsrc%2FApp.js`}/>
</Box>
