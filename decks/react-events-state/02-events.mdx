import { FullScreenCode, Invert } from "mdx-deck/layouts";
import ReplIt from "../../components/ReplIt";
import Box from "../../components/Box";
import CodeSandbox from "../../components/CodeSandbox";
import { Head, Appear, Image, withDeck } from 'mdx-deck'
import { CodeSurfer } from "mdx-deck-code-surfer";
import nightOwl from "prism-react-renderer/themes/nightOwl";
const BRANCH_NAME = 'master'

export default Invert

# Handling Events

---

## Events in React

- React provides APIs for dealing with events, called [SyntheticEvents](https://reactjs.org/docs/events.html)
- Events are cross-browser compatible
- Same interface as the browser native events
- Use `camelCase` to attach handlers

---

## Common React Events

- `onClick`
- `onKeyUp`
- `onChange`
- `onInput`
- `onSubmit`

... [and more](https://reactjs.org/docs/events.html)

---

## Event Handlers

- Using JSX, you can attach handler functions to events
- Event handlers will implicitly receive the event object as a parameter

---

<CodeSurfer
  code={require("!raw-loader!./snippets/events-intro.snippet")}
  theme={nightOwl}
  lang="jsx"
  title="Events in React"
  showNumbers
  steps={[
    {},
    {lines: [2,3,4,5], notes: "Our event handler - we want it to run when the event triggers"},
    {lines: [8], notes: "We attach the handler WITHOUT invoking it" },
    {lines: [2], notes: "It will receive a prop, event" },
    {lines: [3], notes: "It's a JavaScript event with expected methods" },
    {lines: [4], notes: "Log when the button is clicked" },
    {}
  ]}
/>

---

<CodeSurfer
  code={require("!raw-loader!./snippets/event-target.snippet")}
  theme={nightOwl}
  lang="jsx"
  title="Event Values"
  showNumbers
  steps={[
    {},
    {lines: [], notes: "If we want the value of an event..."},
    {lines: [3], notes: "We read it from the event object" },
    {lines: [4], notes: "Then we can use it" },
    {}
  ]}
/>

---

## Passing other arguments to event handlers

- Use an arrow function that receives the event explicitly and returns your callback
- Add any additional parameters you need here
- You can pass the event through, or ignore it if you don't need it

---

<CodeSurfer
  code={require("!raw-loader!./snippets/event-with-param.snippet")}
  theme={nightOwl}
  lang="jsx"
  title="Events with Extra Parameters"
  showNumbers
  steps={[
    {},
    {lines: [3], notes: "We want to log the row ID when the button is clicked"},
    {lines: [8], notes: "Use an anonymous function that returns our handler" },
    {lines: [8], notes: "Pass the event and our extra param" },
    {}
  ]}
/>

---

### Exercise: Greeting Form - Start

<Box width={'85vw'}>
  <CodeSandbox src={`https://codesandbox.io/s/github/e-schultz/ts-js-react-training/tree/${BRANCH_NAME}/exercises/react-events-state-exercises?codemirror=1&fontsize=14&initialpath=input-handler-start&module=%2Fsrc%2Fexercises%2Finput-handler%2Finput-handler-start%2FInputHandler.js`}/>
</Box>

---

### Exercise: Greeting Form - Solution

<Box width={'85vw'}>
  <CodeSandbox src={`https://codesandbox.io/s/github/e-schultz/ts-js-react-training/tree/${BRANCH_NAME}/es-update-state-example/exercises/react-events-state-exercises?codemirror=1&fontsize=14&initialpath=input-handler-end&module=%2Fsrc%2Fexercises%2Finput-handler%2Finput-handler-start%2FInputHandler.js`}/>
</Box>